Silver IDE Examples
----------------------
I've found one of the best ways to document projects is to go
through a collection of useful examples that
explain the functionality of tools.
This is what this repo aims to do.
Most of these examples have there actual source code located
elsewhere and documents exist here showing how to utilize these
resources.

### Syntax Highlighting in Atom
Let's see how to get syntax highlighting in Atom using the parallel tree search
example in the
 [ableC-sample-projects directory](https://github.com/melt-umn/ableC-sample-projects).
`ParallelTreeSearchDemo.md` shows the steps necessary to get this example working.
However, here let us discuss how the example was built and how you can build
highlighting for Atom into your language. There are 4 commands in the Makefile
related to building highlighting specifications.
Two of them, `atom-ide-demo` and `update-spec-demo` are used by
our group for demonstrational purposes and are not recommended for general use.
Let's look at the other commands `atom-ide` and `update-spec`.

`make atom-ide` causes 4 commands to run
1. `silver-ableC --treesitter-spec ablec4pts --ide-interface $(SVFLAGS) artifact`:

  This command runs silver-ableC with the `--treesitter-spec` option to generate the
  `grammar.js` file and with the `--ide-interface` flag to generate the `ideInterface.txt`
  with the serialized interface that is needed for slide.
  The `$(SVFLAGS)` variable contains all of the `-I` flags with the
  directories to find the Silver grammar files.
2. `slide --treesitter grammar.js $(SLIDEFLAGS) ideInterface.txt ide/RealisticDemoSpecList.txt`:

  This command runs slide (Specification Language for IDEs) with the
  `--treesitter` flag
  to modify the `grammar.js` file. This is necessay since Atom can only highlight
  terminals in the concrete syntax tree so some ignore terminals need to end
  up in the tree. However, by default we exclude ignore terminals from the
  concrete syntax tree Treesitter produces for efficiency reasons.
  Thus, slide specifications can specify that some ignore terminals
  should appear in the concrete syntax tree by giving them the property
  `highlightable` in a slide file. For example, in `comments.slide`
  in the `ableC/ide/slide` directory.

  Next we pass in the `$(SLIDEFLAGS)` variable. This is the `-I` include flags
  for the slide specification files. As a standard used by our group, the
  slide specification files reside in a projects directory at `/ide/slide`.

  Next we pass in the `ideinterface.txt` that was generated by running Silver
  with the `--ide-interface` flag. This tells slide the information about the
  grammar that is necessary for the IDE.

  Lastly, we pass in the list of specifications that we want to use to build our
  IDE specification. This is simply a semicolon separated list of specifications.
  The name of specification is listed at the top of all specification files and
  has no relation to its location.

3. `gen-treesitter-parser --scope $(NPM_USERNAME) --lang ablec4pts --publish`:

This moves the `grammar.js` file generated by Silver and modified by Slide to
the `generated/ide` directory of Silver and creates a Treesitter parser from
the grammar file using the Treesitter command line interface. The command line
options are described in the [README](../scripts) in the scripts directory.

4. `gen-atom-language-package ablec4pts $(NPM_USERNAME)`

This creates an Atom package for your language. It uses the `ablec4pts.cson` file
generated by Slide to specify highlighting. This package is created in the
`generated/ide` and a symbolic link is set up at `~/.atom/packages` with a link
to your package so that Atom can find it.

These 4 commands create a Treesitter parser, publish it to the NPM registry so
that it can be used by Atom and create an Atom language package for your
language.

If the parser you want to use already exists then you only need to run
`update-spec` which is very similar to `atom-ide` except that it removes all
commands required to create the parser and assumes it already exists in the
NPM registry.

To understand more details about how to write Slide specifications which are
used to generate the Atom language package read the [README](../slide) in the
Slide directory and look at the examples in the `ide/slide` directories of
languages written using Silver.
